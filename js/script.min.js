/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/script.js":
/*!**************************!*\
  !*** ./src/js/script.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/*==========================================================================================================================================================================*/\r\n/* Проверка устройства, на котором открыта страница */\r\nconst isMobile = {\r\n    Android: function () {\r\n        return navigator.userAgent.match(/Android/i);\r\n    },\r\n    BlackBerry: function () {\r\n        return navigator.userAgent.match(/BlackBerry/i);\r\n    },\r\n    iOS: function () {\r\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n    },\r\n    Opera: function () {\r\n        return navigator.userAgent.match(/Opera Mini/i);\r\n    },\r\n    Windows: function () {\r\n        return navigator.userAgent.match(/IEMobile/i);\r\n    },\r\n    any: function () {\r\n        return (\r\n            isMobile.Android() ||\r\n            isMobile.BlackBerry() ||\r\n            isMobile.iOS() ||\r\n            isMobile.Opera() ||\r\n            isMobile.Windows());\r\n    }\r\n};\r\n\r\n\r\nfunction isIE() {\r\n    let ua = navigator.userAgent;\r\n    var is_ie = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n    return is_ie;\r\n}\r\nif (isIE()) {\r\n    document.querySelector(\"body\").classList.add(\"ie\");\r\n}\r\nif (isMobile.any()) {\r\n    document.querySelector(\"body\").classList.add(\"_touch\");\r\n}\r\n\r\n\r\nfunction testWebP(callback) {\r\n    var webP = new Image();\r\n    webP.onload = webP.onerror = function () {\r\n        callback(webP.height == 2);\r\n    };\r\n    webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\ntestWebP(function (support) {\r\n    if (support == true) {\r\n        document.querySelector(\"body\").classList.add(\"_webp\");\r\n    } else {\r\n        document.querySelector(\"body\").classList.add(\"_no-webp\");\r\n    }\r\n});\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Функции Анимации */\r\nlet _slideUp = (target, duration = 500, showmore = 0) => {\r\n    if (!target.classList.contains(\"_slide\")) {\r\n        target.classList.add(\"_slide\");\r\n        target.style.transitionProperty = \"height, margin, padding\";\r\n        target.style.transitionDuration = duration + \"ms\";\r\n        target.style.height = `${target.offsetHeight}px`;\r\n        target.offsetHeight;\r\n        target.style.overflow = \"hidden\";\r\n        target.style.height = showmore ? `${showmore}px` : `0px`;\r\n        target.style.paddingTop = 0;\r\n        target.style.paddingBottom = 0;\r\n        target.style.marginTop = 0;\r\n        target.style.marginBottom = 0;\r\n        window.setTimeout(() => {\r\n            target.hidden = !showmore ? true : false;\r\n            !showmore ? target.style.removeProperty(\"height\") : null;\r\n            target.style.removeProperty(\"padding-top\");\r\n            target.style.removeProperty(\"padding-bottom\");\r\n            target.style.removeProperty(\"margin-top\");\r\n            target.style.removeProperty(\"margin-bottom\");\r\n            !showmore ? target.style.removeProperty(\"overflow\") : null;\r\n            target.style.removeProperty(\"transition-duration\");\r\n            target.style.removeProperty(\"transition-property\");\r\n            target.classList.remove(\"_slide\");\r\n            document.dispatchEvent(new CustomEvent(\"slideUpDone\", {\r\n                detail: {\r\n                    target: target\r\n                }\r\n            }));\r\n        }, duration);\r\n    }\r\n}\r\n\r\n\r\nlet _slideDown = (target, duration = 500, showmore = 0) => {\r\n    if (!target.classList.contains(\"_slide\")) {\r\n        target.classList.add(\"_slide\");\r\n        target.hidden = target.hidden ? false : null;\r\n        showmore ? target.style.removeProperty(\"height\") : null;\r\n        let height = target.offsetHeight;\r\n        target.style.overflow = \"hidden\";\r\n        target.style.height = showmore ? `${showmore}px` : `0px`;\r\n        target.style.paddingTop = 0;\r\n        target.style.paddingBottom = 0;\r\n        target.style.marginTop = 0;\r\n        target.style.marginBottom = 0;\r\n        target.offsetHeight;\r\n        target.style.transitionProperty = \"height, margin, padding\";\r\n        target.style.transitionDuration = duration + \"ms\";\r\n        target.style.height = height + \"px\";\r\n        target.style.removeProperty(\"padding-top\");\r\n        target.style.removeProperty(\"padding-bottom\");\r\n        target.style.removeProperty(\"margin-top\");\r\n        target.style.removeProperty(\"margin-bottom\");\r\n        window.setTimeout(() => {\r\n            target.style.removeProperty(\"height\");\r\n            target.style.removeProperty(\"overflow\");\r\n            target.style.removeProperty(\"transition-duration\");\r\n            target.style.removeProperty(\"transition-property\");\r\n            target.classList.remove(\"_slide\");\r\n            document.dispatchEvent(new CustomEvent(\"slideDownDone\", {\r\n                detail: {\r\n                    target: target\r\n                }\r\n            }));\r\n        }, duration);\r\n    }\r\n}\r\n\r\n\r\nlet _slideToggle = (target, duration = 500) => {\r\n    if (target.hidden) {\r\n        return _slideDown(target, duration);\r\n    } else {\r\n        return _slideUp(target, duration);\r\n    }\r\n}\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Глобальные константы и переменные */\r\nlet lockStatus = false;                                                             // Статус блокировки действий пользователя в body.\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Споллеры */\r\nfunction spollers() {\r\n    const spollersArray = document.querySelectorAll(\"[data-spollers]\");\r\n    if (spollersArray.length > 0) {\r\n        const spollersRegular = Array.from(spollersArray).filter(function (item, index, self) {\r\n            return !item.dataset.spollers.split(\",\")[0];\r\n        });\t\r\n        if (spollersRegular.length > 0) {\r\n            initSpollers(spollersRegular);\r\n        }\r\n        const spollersMedia = Array.from(spollersArray).filter(function (item, index, self) {\r\n            return item.dataset.spollers.split(\",\")[0];\r\n        });\r\n\r\n\r\n        // Инициализация спойлеров с медиа-запросами:\r\n        if (spollersMedia.length > 0) {\r\n            const breakpointsArray = [];\r\n            spollersMedia.forEach(item => {\r\n                const params = item.dataset.spollers;\r\n                const breakpoint = {};\r\n                const paramsArray = params.split(\",\");\r\n                breakpoint.value = paramsArray[0];\r\n                breakpoint.type = paramsArray[1] ? paramsArray[1].trim() : \"max\";\r\n                breakpoint.item = item;\r\n                breakpointsArray.push(breakpoint);\r\n            });\r\n\r\n\r\n            // Получение уникальных брейкпоинтов:\r\n            let mediaQueries = breakpointsArray.map(function (item) {\r\n                return \"(\" + item.type + \"-width: \" + item.value + \"em),\" + item.value + \",\" + item.type;\r\n            });\r\n            mediaQueries = mediaQueries.filter(function (item, index, self) {\r\n                return self.indexOf(item) === index;\r\n            });\r\n\r\n\r\n            // Работа с брейкпоинтами:\r\n            mediaQueries.forEach(breakpoint => {\r\n                const paramsArray = breakpoint.split(\",\");\r\n                const mediaBreakpoint = paramsArray[1];\r\n                const mediaType = paramsArray[2];\r\n                const matchMedia = window.matchMedia(paramsArray[0]);\r\n                const spollersArray = breakpointsArray.filter(function (item) {\r\n                    if (item.value === mediaBreakpoint && item.type === mediaType) {\r\n                        return true;\r\n                    }\r\n                });\r\n                matchMedia.addListener(function () {\r\n                    initSpollers(spollersArray, matchMedia);\r\n                });\r\n                initSpollers(spollersArray, matchMedia);\r\n            });\r\n        }\r\n\r\n\r\n        // Инициализация спойлера:\r\n        function initSpollers(spollersArray, matchMedia = false) {\r\n            spollersArray.forEach(spollersBlock => {\r\n                spollersBlock = matchMedia ? spollersBlock.item : spollersBlock;\r\n                if (matchMedia.matches || !matchMedia) {\r\n                    spollersBlock.classList.add(\"_init\");\r\n                    initSpollerBody(spollersBlock);\r\n                    spollersBlock.addEventListener(\"click\", setSpollerAction);\r\n                } else {\r\n                    spollersBlock.classList.remove(\"_init\");\r\n                    initSpollerBody(spollersBlock, false);\r\n                    spollersBlock.removeEventListener(\"click\", setSpollerAction);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        // Работа с контентной частью:\r\n        function initSpollerBody(spollersBlock, hideSpollerBody = true) {\r\n            const spollerTitles = spollersBlock.querySelectorAll(\"[data-spoller]\");\r\n            if (spollerTitles.length > 0) {\r\n                spollerTitles.forEach(spollerTitle => {\r\n                    if (hideSpollerBody) {\r\n                        spollerTitle.removeAttribute(\"tabindex\");\r\n                        if (!spollerTitle.classList.contains(\"_active\")) {\r\n                            spollerTitle.nextElementSibling.hidden = true;\r\n                        }\r\n                    } else {\r\n                        spollerTitle.setAttribute(\"tabindex\", \"-1\");\r\n                        spollerTitle.nextElementSibling.hidden = false;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        // Управление спойлерами:\r\n        function setSpollerAction(e) {\r\n            const el = e.target;\r\n            if (el.hasAttribute(\"data-spoller\") || el.closest(\"[data-spoller]\")) {\r\n                const spollerTitle = el.hasAttribute(\"data-spoller\") ? el : el.closest(\"[data-spoller]\");\r\n                const spollersBlock = spollerTitle.closest(\"[data-spollers]\");\r\n                const oneSpoller = spollersBlock.hasAttribute(\"data-one-spoller\") ? true : false;\r\n                if (!spollersBlock.querySelectorAll(\"._slide\").length) {\r\n                    if (oneSpoller && !spollerTitle.classList.contains(\"_active\")) {\r\n                        hideSpollersBody(spollersBlock);\r\n                    }\r\n                    spollerTitle.classList.toggle(\"_active\");\r\n                    _slideToggle(spollerTitle.nextElementSibling, 500);\r\n                }\r\n                e.preventDefault();\r\n            }\r\n        }\r\n\r\n\r\n        // Скрытие контента \"неактивных\" спойлеров:\r\n        function hideSpollersBody(spollersBlock) {\r\n            const spollerActiveTitle = spollersBlock.querySelector(\"[data-spoller]._active\");\r\n            if (spollerActiveTitle) {\r\n                spollerActiveTitle.classList.remove(\"_active\");\r\n                _slideUp(spollerActiveTitle.nextElementSibling, 500);\r\n            }\r\n        }\r\n    }\r\n}\r\nspollers();\r\n\r\n\r\n\r\n/*==================================================================================================================================================================*/\r\n/* Класс Popup */\r\nclass Popup {\r\n    constructor(options) {\r\n        // Classes:\r\n        this.popupClasses = {\r\n            // Body:\r\n            classBodyPopupActive: \"open-popup\",                                     // Класс body при открытом popup.\r\n            // Buttons:\r\n            attributeOpenButton: \"data-popup\",                                      // Атрибут кнопки, вызывающей popup.\r\n            attributeVideo: \"data-video\",                                           // Атрибут кнопки для popup-video.\r\n            attributePosterVideo: \"data-poster\",                                    // Атрибут для постера popup-video.\r\n            attributeVideoYoutube: \"data-youtube\",                                  // Атрибут для кода видео youtube.\r\n            // Elements:\r\n            attributeFixedElements: \"data-fixed\",                                   // Атрибут для элементов с position:fixed.\r\n            // Popup:\r\n            classPopup: \"_popup\",                                                   // Попап.\r\n            classPopupActive: \"popup-open\",                                         // Класс открытого popup. \r\n            classPopupBody: \"_popup-body\",                                          // Тело попапа.\r\n            classPopupContent: \"_popup-content\",                                    // Контент попапа.  \r\n            classPopupCloseButton: \"_popup-close\",                                  // Кнопка, закрывающая popup. \r\n            classPopupVideo: \"popup-video__item\",                                   // Класс элемента для вставки видео.                      \r\n        }\r\n\r\n        // Options:\r\n        this.startOptions = {\r\n            logging: true,                                                          // Вывод информационных сообщений в консоль.\r\n            init: true,                                                             // Инициализация попапов.\r\n            bodyLock: true,                                                         // Блокировка скролла.\r\n            closeEsc: true,                                                         // Закрытие по нажатии на клавишу \"Esc\". \r\n            delay: 800,\r\n            autoplayVideo: false,                                                   // Автовоспроизведение видео при открытии попапа.\r\n            controlsVideo: true,                                                    // Стандартные элементы управления видео. \r\n            // Events:\r\n            on: { \r\n                beforeOpen: function () {},\r\n                afterOpen: function () {},\r\n                beforeClose: function () {},\r\n                afterClose: function () {},\r\n            },\r\n        }\r\n\r\n        options ? this.popupOptions = {...this.startOptions, ...options} : this.popupOptions = this.startOptions;\r\n\r\n        // Состояния:\r\n        this.bodyLock = false;                                                      // Состояние блокировки скролла.\r\n        this.isOpen = false;                                                        // Состояние попапа: открыт/закрыт.                                                   \r\n        this.nextOpen = false;                                                      // Открытие следующего попапа и закрытие текущего.                                                   \r\n\r\n        // Текущий открытый popup:\r\n        this.openPopup = {\r\n            selector: false,\r\n            element: false,\r\n        }\r\n\r\n        // Предыдущий открытый popup:\r\n        this.previousOpenPopup = {\r\n            selector: false,\r\n            element: false,\r\n        }\r\n\r\n        this.fixedElements = document.querySelectorAll(`[${this.popupClasses.attributeFixedElements}]`);\r\n        this.popupOptions.init ? this.initPopup() : null;\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Инициализация popup */\r\n    initPopup() {\r\n        const popupButtons = document.querySelectorAll(\"[data-popup]\");\r\n        if (popupButtons) {\r\n            popupButtons.forEach(popupButton => {\r\n                popupButton.addEventListener(\"click\", function (e) {\r\n                    e.preventDefault();\r\n                    this.getOpenPopup(e.target);\r\n                }.bind(this));\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Обработчик событий, вызывающих открытие popup */\r\n    getOpenPopup(targetElement) {\r\n        this.popupButton = targetElement;\r\n        const popupName = this.popupButton.getAttribute(this.popupClasses.attributeOpenButton);\r\n        this.openPopup.selector = popupName;\r\n        this.openPopup.element = document.querySelector(this.openPopup.selector);\r\n        this.popupButton.hasAttribute(this.popupClasses.attributeVideo) ? this.popupVideo() : null;\r\n        this.popupButton.hasAttribute(this.popupClasses.attributeVideoYoutube) ? this.popupYoutube() : null;\r\n\r\n        // \"Клик\" на кнопку внутри формы: \r\n        if (targetElement.closest(\"._form\")) {\r\n            const form = targetElement.closest(\"._form\");\r\n            formValidate(form);\r\n            if (!form.querySelector(\"._error\")) {\r\n                this.openPopup.element ? this.popupOpen() : null;\r\n            }\r\n        } else {\r\n            this.openPopup.element ? this.popupOpen() : null;\r\n        }\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    // Формирование контента popup-video:\r\n    popupVideo() {\r\n        const pathToVideo = this.popupButton.getAttribute(this.popupClasses.attributeVideo);\r\n        const autoplay = this.popupOptions.autoplayVideo ? \"autoplay\" : \"\";\r\n        const controlsVideo = this.popupOptions.controlsVideo ? \"controls\" : null;\r\n        const poster = this.popupButton.querySelector(`[${this.popupClasses.attributePosterVideo}]`).getAttribute(\"src\");\r\n        this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`).innerHTML = `\r\n            <video ${autoplay} ${controlsVideo} preload=\"auto\" poster=\"${poster}\">\r\n                <source type=\"video/mp4\" src=\"${pathToVideo}\">\r\n            </video>`;\r\n    }\r\n\r\n    \r\n    /*=========================================================================*/\r\n    // Формирование контента popup-youtube:\r\n    popupYoutube() {\r\n        const codeVideo = this.popupButton.getAttribute(this.popupClasses.attributeVideoYoutube);\r\n        const urlVideo = `https://www.youtube.com/embed/${codeVideo}?rel=0&showinfo=0&autoplay=1`\r\n        const iframe = document.createElement(\"iframe\");\r\n        iframe.setAttribute(\"allowfullscreen\", \"\");\r\n        const autoplay = this.popupOptions.autoplayVideo ? \"autoplay;\" : \"\";\r\n        iframe.setAttribute(\"allow\", `autoplay; encrypted-media`);\r\n        iframe.setAttribute(\"src\", urlVideo);\r\n        this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`).appendChild(iframe);\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Открытие popup */\r\n    popupOpen() {\r\n        if (!lockStatus) {\r\n            // Присвоение значения состоянию \"bodyLock\" в зависимости от наличия класса \"lock\" у body: \r\n            this.bodyLock = document.body.classList.contains(\"_lock\") ? true : false;\r\n\r\n            // Если уже имеется открытый попап => ставим состояние \"открытие следующего попапа\" и закрываем текущий:\r\n            if (this.isOpen) {\r\n                this.nextOpen = true;\r\n                this.popupClose();\r\n            }\r\n            \r\n            // Если необходимо формировать контент попапа до его открытия: \r\n            // if (document.querySelector(\"._page-doctor\")) formationPopupContent(); \r\n\r\n            // Если контент попапа формируется в зависимости от нажатого элемента:\r\n            // popupName === \"doctor-popup\" ? createPopupContent(this.openPopup.element, this.openPopup.selector) : null;\r\n\r\n            // Создание собственного события перед открытием попапа:\r\n            this.popupOptions.on.beforeOpen(this);\r\n            document.dispatchEvent(new CustomEvent(\"beforePopupOpen\", {\r\n                detail: {\r\n                    popup: this\r\n                }\r\n            }));\r\n\r\n            // Присвоение открываемому попапу класса \"popup-open\" и атрибуту \"aria-hidden\" значения false:\r\n            this.openPopup.element.classList.add(this.popupClasses.classPopupActive);\r\n            this.openPopup.element.setAttribute(\"aria-hidden\", \"false\");\r\n\r\n            // Присвоение текущего попапа объекту последнего открытого popup:\r\n            this.previousOpenPopup.selector = this.openPopup.selector;\r\n            this.previousOpenPopup.element = this.openPopup.element;\r\n            \r\n            // Вызов функции обработки блокировки/разблокировки скролла, указание значения попапу \"открыт\" и присвоение body значения \"блокирован\":\r\n            if (!document.body.classList.contains(\"_menu-open\")) {\r\n                !this.nextOpen ? bodyLockToggle(this.bodyLock, this.fixedElements, this.popupOptions.delay) : null;\r\n            }\r\n            document.body.classList.add(this.popupClasses.classBodyPopupActive);\r\n            this.isOpen = true;\r\n            this.bodyLock = true;\r\n\r\n            // Создание собственного события после открытия попапа:\r\n            this.popupOptions.on.afterOpen(this);\r\n            document.dispatchEvent(new CustomEvent(\"afterPopupOpen\", {\r\n                detail: {\r\n                    popup: this\r\n                }\r\n            }));\r\n\r\n            // Если на странице имеется форма с обязательными полями => снимаем у всех полей класс \"ошибка валидации\": \r\n            if (document.querySelector(\"[data-required]\")) {\r\n                let formBlockRequired = document.querySelectorAll(\".form-popup__item\");\r\n                let formInputsRequired = document.querySelectorAll(\"[data-required]\");\r\n                removeClassesName(formBlockRequired, \"_error\");\t\t\t\t\t\t\r\n                removeClassesName(formInputsRequired, \"_error\");\r\n            }\r\n\r\n            // Запуск обработчика событий:\r\n            this.popupEvents();\r\n        }\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Обработчик событий popup */\r\n    popupEvents() {\r\n        // \"Клик\" на области открытого попапа:\r\n        this.openPopup.element.addEventListener(\"click\", function (e) {\r\n            // Если событие \"клик\" вызывается на области вне контента попапа или на кнопке \"закрыть\":\r\n            if (e.target.classList.contains(`${this.popupClasses.classPopupCloseButton}`) || !e.target.closest(`.${this.popupClasses.classPopupContent}`)) {\r\n                e.preventDefault();\r\n                this.nextOpen = false;\t\t\t\t\t\r\n                this.isOpen ? this.popupClose() : null; \r\n            }\r\n        }.bind(this));\r\n\r\n        // Закрытие по \"клику\" на клавишу \"Esc\":\r\n        document.addEventListener(\"keydown\", function (e) {\r\n            if (this.popupOptions.closeEsc && e.which == 27 && e.code === \"Escape\" && this.isOpen) {\r\n                e.preventDefault();\r\n                this.nextOpen = false;\r\n                this.popupClose();\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Закрытие popup */\r\n    popupClose() {\r\n        if (!this.isOpen || lockStatus) {\r\n            return;\r\n        }\r\n\r\n        // Создание собственного события перед закрытием попапа:\r\n        this.popupOptions.on.beforeClose(this);\r\n        document.dispatchEvent(new CustomEvent(\"beforePopupClose\", {\r\n            detail: {\r\n                popup: this\r\n            }\r\n        }));\r\n\r\n        // Очистка контента popup video:\r\n        if (this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`)) {\r\n            this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`).innerHTML = \"\";\r\n        }\r\n\r\n        // Удаление у открытого попапа класса \"popup-open\" и присвоение атрибуту \"aria-hidden\" значения true:\r\n        this.previousOpenPopup.element.classList.remove(this.popupClasses.classPopupActive);\r\n        this.previousOpenPopup.element.setAttribute(\"aria-hidden\", \"true\");\r\n\r\n        // Вызов функции обработки блокировки/разблокировки скролла:\r\n        if (!document.body.classList.contains(\"_menu-open\")) {\r\n            !this.nextOpen ? bodyLockToggle(this.bodyLock, this.fixedElements, this.popupOptions.delay): null;\r\n        }\r\n\r\n        // Присвоение body класса \"open-popup\" и состояниям \"попап открыт\" и блокировки скролла значения false:\r\n        document.body.classList.remove(this.popupClasses.classBodyPopupActive);\r\n        this.isOpen = false;\r\n        this.bodyLock = false;\r\n\r\n        // Создание собственного события после закрытия попапа:\r\n        this.popupOptions.on.afterClose(this);\r\n        document.dispatchEvent(new CustomEvent(\"afterPopupClose\", {\r\n            detail: {\r\n                popup: this\r\n            }\r\n        }));\r\n\r\n        // Если попап имеет форму с обязательными полями => снимаем у всех полей класс \"ошибка валидации\":\r\n        // if (this.openPopup.element.querySelector(\"[data-required]\")) {\r\n        //     let formBlockRequired = document.querySelectorAll(\".form-popup__item\");\r\n        //     let formInputsRequired = document.querySelectorAll(\"[data-required]\");\r\n        //     removeClassesName(formBlockRequired, \"_error\");\t\t\t\t\t\t\r\n        //     removeClassesName(formInputsRequired, \"_error\");\t\t\t\t\t\t\r\n        // } \r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Вывод информационного сообщения */\r\n    setLogging(message) {\r\n        this.selectOptions.logging ? console.log(`[select]: ${message}`) : null;\r\n    }\r\n}\r\nnew Popup({});\r\n\r\n\r\n\r\n/*==================================================================================================================================================================*/\r\n/* Функции блокировки/разблокировки скролла */\r\nfunction bodyLockToggle(lock, fixedElements, delay = 550) {\r\n    lock ? bodyUnlock(fixedElements, delay) : bodyLock(fixedElements, delay);\r\n}\r\n\r\n// Функция блокировки скролла при открытии элемента:\r\nfunction bodyLock(fixedElements, delay) {\r\n    let body = document.querySelector(\"body\");\r\n    if (!lockStatus) {\r\n        const scrollWidth = window.innerWidth - document.querySelector(\".wrapper\").offsetWidth + \"px\";\r\n        if (fixedElements) {\r\n            fixedElements.forEach(fixedElement => {\r\n                fixedElement.style.marginRight = scrollWidth;\r\n            });\r\n        }\r\n        body.style.paddingRight = scrollWidth;\r\n        body.classList.add(\"_lock\");\r\n        lockStatus = true;\r\n        setTimeout(function () {\r\n            lockStatus = false;\r\n        }, delay);\r\n    }\r\n}\r\n\r\n\r\n// Функция разблокировки скролла при закрытии элемента:\r\nfunction bodyUnlock(fixedElements, delay) {\r\n    let body = document.querySelector(\"body\");\r\n    if (!lockStatus) {\r\n        setTimeout(() => {\r\n            if (fixedElements) {\r\n                fixedElements.forEach(fixedElement => {\r\n                    fixedElement.style.marginRight = \"0px\";\r\n                });\r\n            }\r\n            body.style.paddingRight = \"0px\";\r\n            body.classList.remove(\"_lock\");\r\n        }, delay);\r\n        lockStatus = true;\r\n        setTimeout(function () {\r\n            lockStatus = false;\r\n        }, delay);\r\n    }\r\n}\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Удаление класса у массива переданных элементов */\r\nfunction removeClassesName(elements, className) {\r\n    elements.forEach(elements => {\r\n        elements.classList.remove(className);\r\n    });\t\t\r\n}\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Slider Swiper */\r\nfunction bildSliders() {\r\n    let sliders = document.querySelectorAll('[class*=\"__wrapper\"]:not(.swiper-wrapper)');\r\n    if (sliders) {\r\n        sliders.forEach(slider => {\r\n            slider.parentElement.classList.add(\"swiper\");\r\n            slider.classList.add(\"swiper-wrapper\");\r\n            for (const slide of slider.children) {\r\n                slide.classList.add(\"swiper-slide\");\r\n            }\r\n        });\r\n    }\r\n}\r\nbildSliders();\r\n\r\n\r\nfunction initSliders() {\r\n    // Slider Brands:\r\n    if (document.querySelector(\".slider-brands\")) {\r\n        new Swiper(\".slider-brands\", {\r\n            autoplay: {\r\n                delay: 6000,\r\n                disableOnInteraction: false,\r\n            },\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 5,\r\n            spaceBetween: 15,\r\n            initialSlide: 0,\r\n            speed: 800,\r\n            keyboard: {\r\n                enabled: true,                            \r\n                onlyInViewport: true,\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \".brands .swiper-arrow_next\",\r\n                prevEl: \".brands .swiper-arrow_prev\"\r\n            },\r\n            breakpoints: {\r\n                1200: {\r\n                    slidesPerView: 5,\r\n                },\r\n                1024: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 15,\r\n                },\r\n                320: {\r\n                    slidesPerView: 2,\r\n                    spaceBetween: 12,\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    // Slider Ventilation Systems 1:\r\n    if (document.querySelector(\".slider-systems-one .slider-vent-systems\")) {\r\n        new Swiper(\".slider-systems-one .slider-vent-systems\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 1,\r\n            spaceBetween: 20,\r\n            speed: 1000,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                 \r\n                onlyInViewport: true,\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \".slider-systems-one .swiper-arrow_next\",\r\n                prevEl: \".slider-systems-one .swiper-arrow_prev\"\r\n            },\r\n            scrollbar: {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                el: \".slider-systems-one .slider-vent-systems__scrollbar\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                draggable: true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n            },\r\n            // Вывод кастомной фракции:\r\n            on: {\r\n                init: function (swiper) {\r\n                    const allSlides = document.querySelector(\".slider-systems-one .slider-vent-systems .fraction__all\");\r\n                    const allSlidesItems = document.querySelectorAll(\".slider-systems-one .slider-vent-systems__slide:not(.swiper-slide-duplicate)\");\r\n                    allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length}` : allSlidesItems.length;\r\n                },\r\n                slideChange: function (swiper) {\r\n                    const currentSlide = document.querySelector(\".slider-systems-one .slider-vent-systems .fraction__current\");\r\n                    currentSlide.innerHTML = swiper.realIndex + 1 < 10 ? `0${swiper.realIndex + 1}` : swiper.realIndex + 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Slider Ventilation Systems 2:\r\n    if (document.querySelector(\".slider-systems-two .slider-vent-systems\")) {\r\n        new Swiper(\".slider-systems-two .slider-vent-systems\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 1,\r\n            spaceBetween: 20,\r\n            speed: 1000,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                 \r\n                onlyInViewport: true,\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \".slider-systems-two .swiper-arrow_next\",\r\n                prevEl: \".slider-systems-two .swiper-arrow_prev\"\r\n            },\r\n            scrollbar: {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                el: \".slider-systems-two .slider-vent-systems__scrollbar\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                draggable: true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n            },\r\n            // Вывод кастомной фракции:\r\n            on: {\r\n                init: function (swiper) {\r\n                    const allSlides = document.querySelector(\".slider-systems-two .slider-vent-systems .fraction__all\");\r\n                    const allSlidesItems = document.querySelectorAll(\".slider-systems-two .slider-vent-systems__slide:not(.swiper-slide-duplicate)\");\r\n                    allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length}` : allSlidesItems.length;\r\n                },\r\n                slideChange: function (swiper) {\r\n                    const currentSlide = document.querySelector(\".slider-systems-two .slider-vent-systems .fraction__current\");\r\n                    currentSlide.innerHTML = swiper.realIndex + 1 < 10 ? `0${swiper.realIndex + 1}` : swiper.realIndex + 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Slider Ventilation Systems 3:\r\n    if (document.querySelector(\".slider-systems-three .slider-vent-systems\")) {\r\n        new Swiper(\".slider-systems-three .slider-vent-systems\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 1,\r\n            spaceBetween: 20,\r\n            speed: 1000,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                 \r\n                onlyInViewport: true,\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \".slider-systems-three .swiper-arrow_next\",\r\n                prevEl: \".slider-systems-three .swiper-arrow_prev\"\r\n            },\r\n            scrollbar: {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                el: \".slider-systems-three .slider-vent-systems__scrollbar\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                draggable: true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n            },\r\n            // Вывод кастомной фракции:\r\n            on: {\r\n                init: function (swiper) {\r\n                    const allSlides = document.querySelector(\".slider-systems-three .slider-vent-systems .fraction__all\");\r\n                    const allSlidesItems = document.querySelectorAll(\".slider-systems-three .slider-vent-systems__slide:not(.swiper-slide-duplicate)\");\r\n                    allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length}` : allSlidesItems.length;\r\n                },\r\n                slideChange: function (swiper) {\r\n                    const currentSlide = document.querySelector(\".slider-systems-three .slider-vent-systems .fraction__current\");\r\n                    currentSlide.innerHTML = swiper.realIndex + 1 < 10 ? `0${swiper.realIndex + 1}` : swiper.realIndex + 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Slider Ventilation Systems 4:\r\n    if (document.querySelector(\".slider-systems-four .slider-vent-systems\")) {\r\n        new Swiper(\".slider-systems-four .slider-vent-systems\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 1,\r\n            spaceBetween: 20,\r\n            speed: 1000,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                 \r\n                onlyInViewport: true,\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \".slider-systems-four .swiper-arrow_next\",\r\n                prevEl: \".slider-systems-four .swiper-arrow_prev\"\r\n            },\r\n            scrollbar: {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                el: \".slider-systems-four .slider-vent-systems__scrollbar\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                draggable: true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n            },\r\n            // Вывод кастомной фракции:\r\n            on: {\r\n                init: function (swiper) {\r\n                    const allSlides = document.querySelector(\".slider-systems-four .slider-vent-systems .fraction__all\");\r\n                    const allSlidesItems = document.querySelectorAll(\".slider-systems-four .slider-vent-systems__slide:not(.swiper-slide-duplicate)\");\r\n                    allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length}` : allSlidesItems.length;\r\n                },\r\n                slideChange: function (swiper) {\r\n                    const currentSlide = document.querySelector(\".slider-systems-four .slider-vent-systems .fraction__current\");\r\n                    currentSlide.innerHTML = swiper.realIndex + 1 < 10 ? `0${swiper.realIndex + 1}` : swiper.realIndex + 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Slider Ventilation Systems 5:\r\n    if (document.querySelector(\".slider-systems-five .slider-vent-systems\")) {\r\n        new Swiper(\".slider-systems-five .slider-vent-systems\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 1,\r\n            spaceBetween: 20,\r\n            speed: 1000,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                 \r\n                onlyInViewport: true,\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \".slider-systems-five .swiper-arrow_next\",\r\n                prevEl: \".slider-systems-five .swiper-arrow_prev\"\r\n            },\r\n            scrollbar: {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                el: \".slider-systems-five .slider-vent-systems__scrollbar\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                draggable: true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n            },\r\n            // Вывод кастомной фракции:\r\n            on: {\r\n                init: function (swiper) {\r\n                    const allSlides = document.querySelector(\".slider-systems-five .slider-vent-systems .fraction__all\");\r\n                    const allSlidesItems = document.querySelectorAll(\".slider-systems-five .slider-vent-systems__slide:not(.swiper-slide-duplicate)\");\r\n                    allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length}` : allSlidesItems.length;\r\n                },\r\n                slideChange: function (swiper) {\r\n                    const currentSlide = document.querySelector(\".slider-systems-five .slider-vent-systems .fraction__current\");\r\n                    currentSlide.innerHTML = swiper.realIndex + 1 < 10 ? `0${swiper.realIndex + 1}` : swiper.realIndex + 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Slider Thanks:\r\n    if (document.querySelector(\".slider-thanks\")) {\r\n        new Swiper(\".slider-thanks\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 3,\r\n            spaceBetween: 21,\r\n            speed: 800,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                         \r\n                onlyInViewport: true,\t\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \".thanks .swiper-arrow_next\",\r\n                prevEl: \".thanks .swiper-arrow_prev\"\r\n            },\r\n            scrollbar: {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                el: \".thanks__scrollbar\",\t\t\t\t\t\t\t\t\t\t\t\t\r\n                draggable: true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n            },\r\n            // Вывод кастомной фракции:\r\n            on: {\r\n                init: function (swiper) {\r\n                    const allSlides = document.querySelector(\".thanks .fraction__all\");\r\n                    const allSlidesItems = document.querySelectorAll(\".slider-thanks__slide:not(.swiper-slide-duplicate)\");\r\n                    if (window.innerWidth > 768) {\r\n                        allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length - 2}` : allSlidesItems.length - 2;\r\n                    } else if (window.innerWidth < 768 && window.innerWidth > 468) {\r\n                        allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length - 1}` : allSlidesItems.length - 1;\r\n                    } else {\r\n                        allSlides.innerHTML = allSlidesItems.length < 10 ? `0${allSlidesItems.length}` : allSlidesItems.length;\r\n                    }\r\n                },\r\n                slideChange: function (swiper) {\r\n                    const currentSlide = document.querySelector(\".thanks .fraction__current\");\r\n                    currentSlide.innerHTML = swiper.realIndex + 1 < 10 ? `0${swiper.realIndex + 1}` : swiper.realIndex + 1;\r\n                }\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    spaceBetween: 21,\r\n                },\r\n                768: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 15,\r\n                },\r\n                468: {\r\n                    slidesPerView: 2,\r\n                },\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 10,\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    // Slider Object 1:\r\n    if (document.querySelector(\"#object-one-popup .slider-object\")) {\r\n        new Swiper(\"#object-one-popup .slider-object\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 3,\r\n            spaceBetween: 16,\r\n            speed: 700,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                         \r\n                onlyInViewport: true,\t\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \"#object-one-popup .swiper-arrow_next\",\r\n                prevEl: \"#object-one-popup .swiper-arrow_prev\"\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    slidesPerView: 3,\r\n                },\r\n                768: {\r\n                    spaceBetween: 16,\r\n                },\r\n                468: {\r\n                    slidesPerView: 2,\r\n                },\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 8,\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    // Slider Object 2:\r\n    if (document.querySelector(\"#object-two-popup .slider-object\")) {\r\n        new Swiper(\"#object-two-popup .slider-object\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 3,\r\n            spaceBetween: 16,\r\n            speed: 700,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                         \r\n                onlyInViewport: true,\t\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \"#object-two-popup .swiper-arrow_next\",\r\n                prevEl: \"#object-two-popup .swiper-arrow_prev\"\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    slidesPerView: 3,\r\n                },\r\n                768: {\r\n                    spaceBetween: 16,\r\n                },\r\n                468: {\r\n                    slidesPerView: 2,\r\n                },\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 8,\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    // Slider Object 3:\r\n    if (document.querySelector(\"#object-three-popup .slider-object\")) {\r\n        new Swiper(\"#object-three-popup .slider-object\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 3,\r\n            spaceBetween: 16,\r\n            speed: 700,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                         \r\n                onlyInViewport: true,\t\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \"#object-three-popup .swiper-arrow_next\",\r\n                prevEl: \"#object-three-popup .swiper-arrow_prev\"\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    slidesPerView: 3,\r\n                },\r\n                768: {\r\n                    spaceBetween: 16,\r\n                },\r\n                468: {\r\n                    slidesPerView: 2,\r\n                },\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 8,\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    // Slider Object 4:\r\n    if (document.querySelector(\"#object-four-popup .slider-object\")) {\r\n        new Swiper(\"#object-four-popup .slider-object\", {\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: true,\r\n            slidesPerView: 3,\r\n            spaceBetween: 16,\r\n            speed: 700,\r\n            parallax: true,\r\n            keyboard: {\r\n                enabled: true,                                         \r\n                onlyInViewport: true,\t\t\t\t\t\t\t\r\n                pageUpDown: true,\t\t\t\t\t\t\t\t\r\n            },\t\r\n            navigation: {\r\n                nextEl: \"#object-four-popup .swiper-arrow_next\",\r\n                prevEl: \"#object-four-popup .swiper-arrow_prev\"\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    slidesPerView: 3,\r\n                },\r\n                768: {\r\n                    spaceBetween: 16,\r\n                },\r\n                468: {\r\n                    slidesPerView: 2,\r\n                },\r\n                320: {\r\n                    slidesPerView: 1,\r\n                    spaceBetween: 8,\r\n                }\r\n            },\r\n        });\r\n    }\r\n}\r\ninitSliders();\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Динамический Адаптив */\r\nfunction dynamicAdapt(type) {\r\n    this.type = type;\r\n}\r\n\r\n\r\n// Функция адаптива:\r\ndynamicAdapt.prototype.init = function () {\r\n    const _this = this;\t\t\r\n    this.оbjects = [];\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Массив объектов.\r\n    this.daClassname = \"_dynamic_adapt_\";\t\r\n    this.nodes = document.querySelectorAll(\"[data-da]\");\t\t\t\t\t\t\t\t\t\t\t// Массив DOM-элементов.\r\n    for (let i = 0; i < this.nodes.length; i++) {\t\t\t\t\t\t\t\t\t\t\t\t\t// Наполнение оbjects объектами.\r\n        const node = this.nodes[i];\r\n        const data = node.dataset.da.trim();\r\n        const dataArray = data.split(\",\");\r\n        const оbject = {};\r\n        оbject.element = node;\r\n        оbject.parent = node.parentNode;\r\n        оbject.destination = document.querySelector(dataArray[0].trim());\r\n        оbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\r\n        оbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\r\n        оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n        this.оbjects.push(оbject);\r\n    }\r\n    this.arraySort(this.оbjects);\r\n    this.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\t\t\t\t\t// Массив уникальных медиа-запросов.\r\n        return '(' + this.type + \"-width: \" + item.breakpoint + \"em),\" + item.breakpoint;\r\n    }, this);\r\n    this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\r\n        return Array.prototype.indexOf.call(self, item) === index;\r\n    });\r\n    for (let i = 0; i < this.mediaQueries.length; i++) {\t\t\t\t\t\t\t\t\t\t\t// Навешивание слушателя на медиа-запрос и вызов обработчика \r\n        const media = this.mediaQueries[i];\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// при первом запуске.\r\n        const mediaSplit = String.prototype.split.call(media, ',');\r\n        const matchMedia = window.matchMedia(mediaSplit[0]);\r\n        const mediaBreakpoint = mediaSplit[1];\t\t\t\r\n        const оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\t\t\t// Массив объектов с подходящим брейкпоинтом.\r\n            return item.breakpoint === mediaBreakpoint;\r\n        });\r\n        matchMedia.addListener(function () {\r\n            _this.mediaHandler(matchMedia, оbjectsFilter);\r\n        });\r\n        this.mediaHandler(matchMedia, оbjectsFilter);\r\n    }\r\n};\r\n\r\n\r\n// Функция перемещения:\r\ndynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\r\n    if (matchMedia.matches) {\r\n        for (let i = 0; i < оbjects.length; i++) {\r\n            const оbject = оbjects[i];\r\n            оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n            this.moveTo(оbject.place, оbject.element, оbject.destination);\r\n        }\r\n    } else {\r\n        for (let i = 0; i < оbjects.length; i++) {\r\n            const оbject = оbjects[i];\r\n            if (оbject.element.classList.contains(this.daClassname)) {\r\n                this.moveBack(оbject.parent, оbject.element, оbject.index);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\n// Функция перемещения:\r\ndynamicAdapt.prototype.moveTo = function (place, element, destination) {\r\n    element.classList.add(this.daClassname);\r\n    if (place === \"last\" || place >= destination.children.length) {\r\n        destination.insertAdjacentElement(\"beforeend\", element);\r\n        return;\r\n    }\r\n    if (place === \"first\") {\r\n        destination.insertAdjacentElement(\"afterbegin\", element);\r\n        return;\r\n    }\r\n    destination.children[place].insertAdjacentElement(\"beforebegin\", element);\r\n}\r\n\r\n\r\n// Функция возврата:\r\ndynamicAdapt.prototype.moveBack = function (parent, element, index) {\r\n    element.classList.remove(this.daClassname);\r\n    if (parent.children[index] !== undefined) {\r\n        parent.children[index].insertAdjacentElement(\"beforebegin\", element);\r\n    } else {\r\n        parent.insertAdjacentElement(\"beforeend\", element);\r\n    }\r\n}\r\n\r\n\r\n// Функция получения индекса внутри родителя:\r\ndynamicAdapt.prototype.indexInParent = function (parent, element) {\r\n    const array = Array.prototype.slice.call(parent.children);\r\n    return Array.prototype.indexOf.call(array, element);\r\n};\r\n\r\n\r\n// Функция сортировки массива по breakpoint и place по возрастанию для this.type = min по убыванию для this.type = max:\r\ndynamicAdapt.prototype.arraySort = function (arr) {\r\n    if (this.type === \"min\") {\r\n        Array.prototype.sort.call(arr, function (a, b) {\r\n            if (a.breakpoint === b.breakpoint) {\r\n                if (a.place === b.place) {\r\n                    return 0;\r\n                }\r\n                if (a.place === \"first\" || b.place === \"last\") {\r\n                    return -1;\r\n                }\t\r\n                if (a.place === \"last\" || b.place === \"first\") {\r\n                    return 1;\r\n                }\r\n                return a.place - b.place;\r\n            }\t\r\n            return a.breakpoint - b.breakpoint;\r\n        });\r\n    } else {\r\n        Array.prototype.sort.call(arr, function (a, b) {\r\n            if (a.breakpoint === b.breakpoint) {\r\n                if (a.place === b.place) {\r\n                    return 0;\r\n                }\t\r\n                if (a.place === \"first\" || b.place === \"last\") {\r\n                    return 1;\r\n                }\r\n                if (a.place === \"last\" || b.place === \"first\") {\r\n                    return -1;\r\n                }\r\n                return b.place - a.place;\r\n            }\t\r\n            return b.breakpoint - a.breakpoint;\r\n        });\r\n        return;\r\n    }\r\n};\r\nconst da = new dynamicAdapt(\"max\");\r\nda.init();\r\n\r\n\r\n\r\n/*==================================================================================================================================================================*/\r\n/* Tabs */\r\nfunction tabs() {\r\n    const tabs = document.querySelectorAll(\"[data-tabs]\");\r\n    if (tabs.length > 0) {\r\n        tabsInit(tabs); \r\n    }\r\n\r\n    /*=========================================================================*/\r\n    /* Инициализация табов */\r\n    function tabsInit(tabs, tabsActiveHash) {\r\n        tabs.forEach((tabsItem, index) => {\r\n            const tabsTitles = Array.from(tabsItem.querySelector(\"[data-tabs-titles]\").children);\r\n            const tabsContents = Array.from(tabsItem.querySelector(\"[data-tabs-body]\").children);\r\n            tabsItem.classList.add(\"tab-init\");\r\n            tabsItem.setAttribute(\"data-tabs-index\", index);\r\n            const mediaQueryValue = tabsItem.getAttribute(\"data-tabs\");\r\n\r\n            // Обрабатываем заголовки и контент табов:\r\n            tabsContents.forEach((tabsContent, index) => {\r\n                tabsContent.setAttribute(\"data-tabs-item\", \"\");\r\n                index === 0 ? null : tabsContent.setAttribute(\"hidden\", \"\");\r\n                if (tabsTitles[index]) {\r\n                    const tabsTitle = tabsTitles[index];\r\n                    tabsTitle.setAttribute(\"data-tabs-title\", \"\");\r\n                    // Если событие \"клик\" срабатывает на заголовке табов и НЕ в момент переключения табов => вызываем обработчик события \"клик\":\r\n                    tabsTitle.addEventListener(\"click\", function(e) {\r\n                        !tabsItem.classList.contains(\"tab-change\") ? tabsAction(e) : null;\r\n                    });\r\n                }\r\n            });\r\n\r\n            // Если атрибут data-tabs не пустой (табы-споллеры) => обрабатываем данный блок табов:\r\n            Number(mediaQueryValue) ? tabsMediaInit(tabsItem, tabsTitles, tabsContents, Number(mediaQueryValue)): null;\r\n        });\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Обработчик медиа-запроса для табов-споллеров */\r\n    function tabsMediaInit(tabsItem, tabsTitles, tabsContents, mediaQueryValue) {\r\n        const mediaQueryUnit = tabsItem.getAttribute(\"data-unit\") ? tabsItem.getAttribute(\"data-unit\"): \"px\";\r\n        const mediaQueries = `(max-width: ${mediaQueryValue}${mediaQueryUnit})`;\r\n        const matchMedia = window.matchMedia(mediaQueries);\r\n        // Изменение состояния медиа-запроса (брейкпоинт):\r\n        matchMedia.addEventListener(\"change\", function () {\r\n            changeTabSpoller(tabsItem, tabsTitles, tabsContents, matchMedia);\r\n        });\r\n        changeTabSpoller(tabsItem, tabsTitles, tabsContents, matchMedia);\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Переключение табов в споллеры и обратно */\r\n    function changeTabSpoller(tabsItem, tabsTitles, tabsContents, matchMedia) {\r\n        tabsContents.forEach((tabsContent, index) => {\r\n            if (matchMedia.matches) {\r\n                tabsContent.parentElement.append(tabsTitles[index]);\r\n                tabsContent.parentElement.append(tabsContent);\r\n                tabsItem.classList.add(\"tab-spoller\");\r\n            } else {\r\n                tabsItem.querySelector(\"[data-tabs-titles]\").append(tabsTitles[index]);\r\n                tabsItem.classList.remove(\"tab-spoller\");\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n    /*=========================================================================*/\r\n    /* Обработка события \"клик\" на заголовке */\r\n    function tabsAction(e) {\r\n        const targetElement = e.target;\r\n        const tabsItem = e.target.closest(\"[data-tabs]\");\r\n        const tabTitle = targetElement.closest(\"[data-tabs-title]\");\r\n        const timeout = tabsItem.dataset.tabsAnimate ? tabsItem.dataset.tabsAnimate : 0;\r\n        if (!tabTitle.classList.contains(\"tab-active\")) {\r\n            tabsItem.classList.add(\"tab-change\");\r\n                setTimeout(() => {\r\n                    tabsItem.classList.remove(\"tab-change\");\r\n            }, timeout);\r\n            const tabActiveTitle = tabsItem.querySelector(\"[data-tabs-title].tab-active\");\r\n            tabActiveTitle ? tabActiveTitle.classList.remove(\"tab-active\") : null;\r\n            tabTitle.classList.add(\"tab-active\");\r\n            tabsChange(tabsItem, timeout);\r\n        }\r\n        e.preventDefault();\r\n    }\r\n\r\n\r\n    /*=========================================================================*/\r\n    /* Переключение табов */\r\n    function tabsChange(tabsItem, timeout) {\r\n        const tabsTitles = Array.from(tabsItem.querySelector(\"[data-tabs-titles]\").children);\r\n        const tabsContents = Array.from(tabsItem.querySelector(\"[data-tabs-body]\").children);\r\n        if (tabsContents.length > 0) {\r\n            tabsContents.forEach((tabsContent, index) => {\r\n                if (tabsTitles[index]) {\r\n                    if (tabsTitles[index].classList.contains(\"tab-active\")) {\r\n                        timeout ? _slideDown(tabsContent, timeout): tabsContent.removeAttribute(\"hidden\");\r\n                    } else {\r\n                        timeout ? _slideUp(tabsContent, timeout): tabsContent.setAttribute(\"hidden\", \"\");\r\n                    };\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\ntabs();\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Маска для телефона */\r\nif (document.querySelector(\"._tel\")) {\r\n    let phoneInputs = document.querySelectorAll(\"._tel\");\r\n\r\n    let getInputNumbersValue = function (input) {\r\n        return input.value.replace(/\\D/g, \"\");\r\n    }\r\n\r\n    function onPhonePaste(e) {\r\n        let input = e.target;\r\n        let inputNumbersValue = getInputNumbersValue(input);\r\n        let pasted = e.clipboardData || window.clipboardData;\r\n        if (pasted) {\r\n            let pastedText = pasted.getData(\"Text\");\r\n            if (/\\D/g.test(pastedText)) {\r\n                // Attempt to paste non-numeric symbol — remove all non-numeric symbols,\r\n                // formatting will be in onPhoneInput handler\r\n                input.value = inputNumbersValue;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    function onPhoneInput(e) {\r\n        let input = e.target;\r\n        let inputNumbersValue = getInputNumbersValue(input);\r\n        let selectionStart = input.selectionStart;\r\n        console.log(input.selectionStart);\r\n        let formattedInputValue = \"\";\r\n        if (!inputNumbersValue) {\r\n            return input.value = \"\";\r\n        }\r\n\r\n        if (input.value.length != selectionStart) {\r\n            // Editing in the middle of input, not last symbol\r\n            if (e.data && /\\D/g.test(e.data)) {\r\n                // Attempt to input non-numeric symbol\r\n                input.value = inputNumbersValue;\r\n            }\r\n            return;\r\n        }\r\n\r\n        if ([\"7\", \"8\"].indexOf(inputNumbersValue[0]) > -1) {\r\n            let firstSymbols = (inputNumbersValue[0] == \"8\") ? \"+8\" : \"+7\";\r\n            formattedInputValue = input.value = firstSymbols + \" \";\r\n            if (inputNumbersValue.length > 1) {\r\n                formattedInputValue += \"(\" + inputNumbersValue.substring(1, 4);\r\n            }\r\n            if (inputNumbersValue.length >= 5) {\r\n                formattedInputValue += \") \" + inputNumbersValue.substring(4, 7);\r\n            }\r\n            if (inputNumbersValue.length >= 8) {\r\n                formattedInputValue += \"-\" + inputNumbersValue.substring(7, 9);\r\n            }\r\n            if (inputNumbersValue.length >= 10) {\r\n                formattedInputValue += \"-\" + inputNumbersValue.substring(9, 11);\r\n            }\r\n        } else {\r\n            formattedInputValue = \"\";\r\n        }\r\n        input.value = formattedInputValue;\r\n    }\r\n\r\n    function onPhoneKeyDown(e) {\r\n        // Clear input after remove last symbol\r\n        let inputValue = e.target.value.replace(/\\D/g, \"\");\r\n        if (e.keyCode == 8 && inputValue.length == 1) {\r\n            e.target.value = \"\";\r\n        }\r\n    }\r\n\r\n    for (let phoneInput of phoneInputs) {\r\n        phoneInput.addEventListener(\"keydown\", function(e) {\r\n            onPhoneKeyDown(e);\r\n        });\r\n        phoneInput.addEventListener(\"input\", function(e) {\r\n            onPhoneInput(e);\r\n        });\r\n        phoneInput.addEventListener(\"paste\", function(e) {\r\n            onPhonePaste(e);\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Валидация Формы */\r\nlet forms = document.querySelectorAll(\"._form\");\r\nfor (let i = 0; i < forms.length; i++) {\r\n    const form = forms[i];\r\n    form.addEventListener(\"submit\", function(e) {\r\n        formSend(e, form);\r\n    });\r\n}  \r\n\r\n\r\n// Функция проверки и обработки результатов валидации формы:\r\nasync function formSend(e, form) {\r\n    e.preventDefault();\r\n    let error = formValidate(form);\r\n    let formData = new FormData(form);\r\n    if (error === 0) {\r\n        formRemoveError();\r\n        let response = await fetch(\"form.php\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        });\r\n        if (response.ok) {\r\n            let result = await response.json();\r\n            alert(result.message);\r\n            form.reset();\r\n        } else {\r\n            alert(\"Ошибка отправки\");\r\n        }\r\n    } else {\r\n        alert(\"Заполните обязательные поля\");\r\n    }\r\n}\r\n            \r\n            \r\n// Функция валидации формы:\r\nfunction formValidate(form) {\r\n    let error = 0;\r\n    let inputsRequired = form.querySelectorAll(\"[data-required]\");\r\n    for (let index = 0; index < inputsRequired.length; index++) {\r\n        const input = inputsRequired[index];\r\n        formRemoveError(input);\r\n        if (input.classList.contains(\"_email\")) {\r\n            if (emailTest(input)) {\r\n                formAddError(input);\r\n                error++;\r\n            }\r\n        }\r\n        if (input.classList.contains(\"_tel\")) {\r\n            if (input.value.length !== 18) {\r\n                formAddError(input);\r\n                error++;\r\n            }\r\n        } \r\n        if (input.value === \"\") {\r\n            formAddError(input);\r\n            error++;\r\n        }\r\n        if (input.getAttribute(\"type\") === \"checkbox\" && input.checked === false) {\r\n            formAddError(input);\r\n            error++;\r\n        }\r\n    }\r\n    return error;\r\n}\r\n            \r\n            \r\n// Функция добавления полю ввода и его родителю класса \"_error\" (ошибка):\r\nfunction formAddError(input) {\r\n    input.classList.add(\"_error\");\r\n    input.parentElement.classList.add(\"_error\");\r\n}\r\n        \r\n            \r\n// Функция удаления у поля ввода и его родителя класса \"_error\" (ошибка):\r\nfunction formRemoveError(input) {\r\n    input.classList.remove(\"_error\");\r\n    input.parentElement.classList.remove(\"_error\");\r\n}\r\n\r\n\r\n// Функция проверки email-адреса:\r\nfunction emailTest(input) {\r\n    return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n}\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Parallax Mousemove */\r\nclass MouseParallax {\r\n\tconstructor(props, data = null) {\r\n\t\tlet defaultConfig = {\r\n\t\t\tinit: true,\r\n\t\t}\r\n\t\tthis.config = Object.assign(defaultConfig, props);\r\n\t\tif (this.config.init) {\r\n\t\t\tconst parallaxMouse = document.querySelectorAll(\"[data-parallax-mouse]\");\r\n\t\t\tparallaxMouse.length ? this.paralaxMouseInit(parallaxMouse) : null;\r\n\t\t}\r\n\t}\r\n\r\n\tparalaxMouseInit(parallaxMouse) {\r\n\t\tparallaxMouse.forEach(el => {\r\n            console.log(el.dataset.parallaxSpeed);\r\n\t\t\tconst parallaxMouseWrapper = el.closest(\"[data-parallax-wrapper]\");\r\n\t\t\t// Коэффициент X: \r\n\t\t\tconst paramСoefficientX = el.hasAttribute(\"data-parallax-cx\") ? +el.getAttribute(\"data-parallax-cy\") : 100;\r\n\t\t\t// Коэффициент Y: \r\n\t\t\tconst paramСoefficientY = el.hasAttribute(\"data-parallax-cy\") ? +el.getAttribute(\"data-parallax-cy\") : 100;\r\n\t\t\t// Направление по оси Х:\r\n\t\t\tconst directionX = el.hasAttribute(\"data-parallax-dxr\") ? -1 : 1;\r\n\t\t\t// Направление по оси Y:\r\n\t\t\tconst directionY = el.hasAttribute(\"data-parallax-dyr\") ? -1 : 1;\r\n\t\t\t// Скорость анимации:\r\n\t\t\tconst paramAnimation = el.hasAttribute(\"data-parallax-speed\") ? +el.getAttribute(\"data-parallax-speed\") : 50;\r\n\r\n\t\t\t// Объявление переменных:\r\n\t\t\tlet positionX = 0, positionY = 0;\r\n\t\t\tlet coordXprocent = 0, coordYprocent = 0;\r\n\t\t\tsetMouseParallaxStyle();\r\n\r\n\t\t\t// Проверка на наличие родителя, в котором будет считываться положение мыши:\r\n\t\t\tif (parallaxMouseWrapper) {\r\n\t\t\t\tmouseMoveParallax(parallaxMouseWrapper);\r\n\t\t\t} else {\r\n\t\t\t\tmouseMoveParallax();\r\n\t\t\t}\r\n\r\n\t\t\tfunction setMouseParallaxStyle() {\r\n\t\t\t\tconst distX = coordXprocent - positionX;\r\n\t\t\t\tconst distY = coordYprocent - positionY;\r\n\t\t\t\tpositionX = positionX + (distX * paramAnimation / 1000);\r\n\t\t\t\tpositionY = positionY + (distY * paramAnimation / 1000);\r\n\t\t\t\tel.style.cssText = `transform: translate3D(${directionX * positionX / (paramСoefficientX / 10)}%,${directionY * positionY / (paramСoefficientY / 10)}%,0);`;\r\n\t\t\t\trequestAnimationFrame(setMouseParallaxStyle);\r\n\t\t\t}\r\n\r\n\t\t\tfunction mouseMoveParallax(wrapper = window) {\r\n\t\t\t\twrapper.addEventListener(\"mousemove\", function (e) {\r\n\t\t\t\t\tconst offsetTop = el.getBoundingClientRect().top + window.scrollY;\r\n\t\t\t\t\tif (offsetTop >= window.scrollY || (offsetTop + el.offsetHeight) >= window.scrollY) {\r\n\t\t\t\t\t\tconst parallaxWidth = window.innerWidth;\r\n\t\t\t\t\t\tconst parallaxHeight = window.innerHeight;\r\n\t\t\t\t\t\tconst coordX = e.clientX - parallaxWidth / 2;\r\n\t\t\t\t\t\tconst coordY = e.clientY - parallaxHeight / 2;\r\n\t\t\t\t\t\tcoordXprocent = coordX / parallaxWidth * 100;\r\n\t\t\t\t\t\tcoordYprocent = coordY / parallaxHeight * 100;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nif (!document.body.classList.contains(\"_touch\")) {\r\n    new MouseParallax({});\r\n}\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Полифилы */\r\n(function () {\r\n    if (!Element.prototype.closest) {\r\n        Element.prototype.closest = function (css) {\r\n            var node = this;\r\n            while (node) {\r\n                if (node.matches(css)) return node;\r\n                else node = node.parentElement;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n})();\r\n\r\n\r\n(function () {\r\n    if (!Element.prototype.matches) {\r\n        Element.prototype.matches = Element.prototype.matchesSelector ||\r\n            Element.prototype.webkitMatchesSelector ||\r\n            Element.prototype.mozMatchesSelector ||\r\n            Element.prototype.msMatchesSelector;\r\n    }\r\n})();\n\n//# sourceURL=webpack://gulp-2022/./src/js/script.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/script.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;